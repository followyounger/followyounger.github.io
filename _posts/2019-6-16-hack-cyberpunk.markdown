---
layout:     post
title:      â€œã€Œé»‘å…¥ã€èµ›åšæœ‹å…‹ 2077 çš„æœåŠ¡å™¨â€
subtitle:   â€œåƒåœ¾æ³¢å…°è ¢é©´ï¼Œè¿™ä¹ˆè‰¯å¿ƒè®©åˆ«çš„æ¸¸æˆå•†å®¶æ€ä¹ˆæ´»â€
date:       2019-6-16
author:     â€œSoptqâ€
header-img: "img/post-hack-cyberpunk.jpg"
catalog:    true
d3:         false
password:   false
mathjax:    false
mermaid:    true
cover:      "/img/in-post/post-hack-cyberpunk/cover.jpg"
tags:
    - games
---

### å¼•

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/1.jpg' %}

è¦è¯´ä¸Šå‘¨ E3 å¤§ä¼šå“ªä¸ªæ¸¸æˆæœ€å‡ºå½©ï¼Œæˆ‘è‚¯å®šè¯´æ˜¯èµ›åšæœ‹å…‹ï¼š2077ã€‚ä»é«˜ä¸€ç­‰è¿™ä¸ªæ¸¸æˆåˆ°å¤§ä¸€çš„æˆ‘ç°åœ¨åªæƒ³å’ŒåŸºåŠªä¸€èµ·â€œçƒ§å…‰æ•´ä¸ªåŸå¸‚â€ã€‚CD Projekt Red å®˜æ–¹ä¸Šå‘¨é™¤äº†å…¬å¸ƒäº†æ—¶é•¿ 4 åˆ†é’Ÿçš„å®£ä¼ è§†é¢‘ä»¥å¤–ï¼Œè¿˜å…¬å¸ƒäº†æ¸¸æˆåŸºç¡€ç‰ˆä»¥åŠè±ªåç‰ˆçš„å¼€ç®±è§†é¢‘ã€‚å¾ˆå¤šäººçš„éƒ½è¢«å¼€ç®±å†…å®¹å¸å¼•äº†ï¼Œå´å¿½è§†äº†è§†é¢‘å¼€å¤´çš„ä¸€ä¸ªç ´è§£æœåŠ¡å™¨ ssh ç™»é™†å¯†ç çš„â€œç‰¹æ•ˆâ€ï¼Œæš´éœ²ç»™æˆ‘ä»¬çš„ä¿¡æ¯æœ‰æœåŠ¡å™¨åŸŸåï¼Œç«¯å£ï¼Œç”¨æˆ·åä»¥åŠå¯†ç ã€‚6 æœˆ 12 æ—¥æœ‰äººè¯å®è¿™ä¸ªæœåŠ¡å™¨çš„ç¡®æ˜¯å¯ä»¥é€šè¿‡ä¸Šè¿°æš´éœ²çš„ä¿¡æ¯ç™»é™†çš„ï¼ˆæœç„¶æ³¢å…°è ¢é©´çš„ç»†èŠ‚ä»æ¥ä¸ä¼šè®©æˆ‘å¤±æœ›ï¼‰ã€‚æ—¢ç„¶å®˜æ–¹éƒ½é‚€è¯·æˆ‘ä»¬è¿›å»ç§ç§äº†ï¼Œé‚£æˆ‘ä»¬å°±å»ç§ç§å§ã€‚

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/2.jpg' %}

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/3.jpg' %}

### ç™»é™†æœåŠ¡å™¨å¹¶ä¸‹è½½èµ„æº

é€šè¿‡åˆ†æè§†é¢‘æˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™æ ·çš„ä¿¡æ¯ï¼š

```
Host: internal-cdprojektred.com
Port: 2020
Username: samurai
Password: WhenItsReady
```

é€šè¿‡ä»£ç ç›´æ¥è¿›å…¥æœåŠ¡å™¨

```bash
ssh -p 2020 samurai@internal-cdprojektred.com
```

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/4.jpg' %}

å—¯ï¼Œæœç„¶æ˜¯ `rbash` ï¼Œè¦ä¸ç„¶å®˜æ–¹ç›¸å½“äºé€äº†ç©å®¶ä¸€å°æœåŠ¡å™¨äº†ï¼Œè€Œä¸”è¿˜æœ‰å¯èƒ½è‡ªå®¶å…¶ä»–ç›¸è¿æœåŠ¡å™¨ä¹Ÿè¢«æ¸—é€äº†ã€‚é‚£æˆ‘ä»¬è¯•è¯•è¿™ä¸ª `rbash` å¯ä»¥ä½¿ç”¨å“ªäº›å‘½ä»¤å§ã€‚

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/5.jpg' %}

å—¯ï¼Œåº”è¯¥æ˜¯åªèƒ½ç”¨ `ls` ,  `pwd` å’Œ  `echo` äº†ï¼Œé€šè¿‡ `ls` çœ‹å¾—å‡ºè¿™ä¸ªç”¨æˆ·æ ¹ç›®å½•ä¸‹è¿˜å­˜ç€ä¸œè¥¿çš„ã€‚é‚£è¿˜è¯´ä»€ä¹ˆå‘¢ï¼Ÿå…ˆä¸‹è½½ä¸‹æ¥å§ã€‚

```bash
scp -P 2020 -r samurai@internal-cdprojektred.com:~/ ~/Desktop
```

ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœåŠ¡å™¨åšäº†é™é€Ÿï¼Œæ•´ä¸ªè¿‡ç¨‹å¹³å‡é€Ÿåº¦åªæœ‰ 30k å·¦å³ï¼Œæ‰€æœ‰ä¸œè¥¿ä¸‹äº†åŠä¸ªå¤šå°æ—¶æ‰ä¸‹å®Œã€‚æˆ‘æŠŠè¿™äº›æ•°æ®ä¸Šä¼ äº†æˆ‘è‡ªå·±çš„æœåŠ¡å™¨ï¼Œä¸æƒ³èŠ±æ—¶é—´çš„å¯ä»¥ä»è¿™é‡Œä¸‹è½½ã€‚

{% include extensions/download.html downurl='https://server.soptq.me/down/samurai.zip' title='samurai.zip' content='Files that downloaded from CPR\'s server' %}

### æäº‹æƒ…

#### `Nmap`

æä¸æäº‹æƒ…ï¼ŒæœåŠ¡å™¨å°±åœ¨é‚£é‡Œã€‚ä¸ç®¡æ€ä¹ˆè¯´ï¼Œå…ˆæ‰«æä¸€ä¸‹å§ã€‚

```bash
sudo nmap -sS internal-cdprojektred.com
```

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/6.jpg' %}

ä»€ä¹ˆï¼Ÿ `nmap` æç¤ºæˆ‘æœåŠ¡å™¨ä¸‹çº¿äº†ï¼Ÿä¸å¯èƒ½å•Šï¼Œæ‰ `scp` äº†çš„ã€‚è‚¯å®šæ˜¯æ‹¦æˆªäº† `nmap` çš„ `ping` æ‰«æã€‚é‚£æˆ‘ä»¬ç»™æ‰«ææŒ‡ä»¤åŠ ä¸€ä¸ª `PN` å‚æ•°

```bash
sudo nmap -sS -PN internal-cdprojektred.com
```

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/7.jpg' %}

å¯ä»¥çœ‹å¾—åˆ°é™¤äº† `ssh` çš„ `2020` ç«¯å£å…¶ä»–éƒ½è¢«é˜²ç«å¢™å±è”½å®Œäº†ã€‚ç³»ç»Ÿæ‰«æçš„è¯åº”è¯¥æ˜¯ `Debian`ã€‚

#### `ls`

å…¶å®æˆ‘ä¹Ÿä¸æ˜¯æƒ³æŠŠè¿™ä¸ªæœåŠ¡å™¨ç»™æ‹¿ä¸‹ï¼Œæˆ‘å°±æ˜¯æƒ³çœ‹ä¸€ä¸‹æœåŠ¡å™¨çš„æ•´ä½“ç›®å½•æœ‰æ²¡æœ‰ä»€ä¹ˆéšè—çš„æœªå…¬å¼€çš„å…³äºèµ›åšæœ‹å…‹ï¼š2077çš„æ¶ˆæ¯ã€‚æˆ‘ä»¬çŸ¥é“ `ls -l` æ˜¯æŸ¥çœ‹å½“å‰ç›®å½•çš„æ•´ä½“ä¿¡æ¯ï¼Œ`ls <dir> -l` å¯ä»¥æŸ¥çœ‹ `dir` ç›®å½•çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠ `<dir>` æ¢æˆæ ¹ç›®å½•ï¼Œç„¶å `tab` è·¯å¾„è”æƒ³ï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥å˜ç›¸åœ°æµè§ˆç›®å½•äº†å‘¢ï¼Ÿ

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/8.jpg' %}

æœç„¶å§ï¼ä½†æ˜¯è¿™ä¸ª `.dockerenv` æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å•Šï¼Œæˆ‘æ²¡æ€ä¹ˆç©è¿‡ `docker` ä¸çŸ¥é“æ˜¯ä¸æ˜¯ `docker` ç”Ÿæˆçš„è™šæ‹Ÿæœºåœ¨æ ¹ç›®å½•å°±ä¼šäº§å‡ºä¸€ä¸ª `.dockerenv` æ–‡ä»¶ã€‚åæ­£å…¶ä»–ç›®å½•æˆ‘ä»¬æ˜¯æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œå°±æ˜¯æ ‡å‡†çš„ `Linux` ç›®å½•ã€‚äºæ˜¯èŠ±äº†ç‚¹æ—¶é—´æŠŠè¿™ä¸ªæœåŠ¡å™¨æ‰€æœ‰çš„ç›®å½•éƒ½åšæˆäº†ä¸€å¼ å›¾ï¼Œå‰”é™¤äº†ç©ºæ–‡ä»¶å¤¹ä»¥åŠæ²¡æœ‰ç”¨çš„æ–‡ä»¶å¤¹ï¼ˆæ¯”å¦‚ `/dev` , `/lib` ï¼‰

<div class="mermaid">
    graph TD
        A[/] --> B[.dockerenv]
        A --> H[usr/]
        A --> I[bin/]
        A --> Q[home/]
        I --> AA[dir]
        I --> AB[ls]
        I --> AC[rbash]
        I --> AD[sh]
        I --> AE[true]
       Q --> Z[samurai]
    subgraph OUR HOME DIR
       Z --> BA[GOG]
       Z --> BB[GWENT]
       Z --> BC[Cyberpunk_2077]
    end
       H --> CA[bin/]
       H --> CF[sbin/]
       CA --> DA[id]
       CA --> DB[scp]
       CA --> DC[test]
       CF --> EA[nologin]
       CF --> EB[sshd]
</div>

å¯ä»¥çœ‹åˆ°å®˜æ–¹å…¶å®è¿˜æ˜¯ç»™äº†æˆ‘ä»¬ä¸€äº›å…¶ä»–çš„å‘½ä»¤ï¼Œæ¯”å¦‚ `dir` , `true`ï¼ˆç–‘æƒ‘ï¼Ÿè¿™æ˜¯ä¸ªä»€ä¹ˆå‘½ä»¤ï¼‰ã€‚ä¸è¦è¢« `sh` å‘½ä»¤ç»™éª—äº†ï¼Œè¿è¡Œä¸äº†çš„ã€‚ `id` å‘½ä»¤å¯ä»¥è¿è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š

```bash
samurai@internal-cdprojektred:~$ id
uid=10000(samurai) gid=10000(netrunner) groups=10000(netrunner)
```

`test` å‘½ä»¤ä¹Ÿæ˜¯ä¸€ä¸ªè°œä¸€æ ·çš„å­˜åœ¨ï¼Œä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ã€‚ `/usr/sbin/` é‡Œé¢çš„ä¸¤ä¸ªå‘½ä»¤ä¹Ÿæ˜¯è¿è¡Œä¸äº†çš„ï¼Œå› ä¸ºè¿™ä¸ª `rbash` é™åˆ¶äº† `/` ä¸èƒ½å‡ºç°åœ¨å‘½ä»¤ä¸­ã€‚

#### èƒ½ä¸èƒ½ä¸Šä¼ æˆ‘è‡ªå·±çš„å‘½ä»¤å‘¢ï¼Ÿ

å°±è¯•è¯•ä¸Šä¼  `cat` å‘½ä»¤å§ã€‚

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/9.jpg' %}

ä¸å‡ºæ„æ–™å“ˆï¼Œä¸å¯èƒ½è®©ä½ ä¸ŠğŸš¢çš„ã€‚

### æœ€å

ä¸ç®¡æ€ä¹ˆè¯´å•Šï¼Œ CD Projekt Red çœŸçš„æ˜¯ä¸–çºªè‰¯å¿ƒå…¬å¸ï¼Œè€ƒè™‘åˆ°æ¸¸æˆæ˜å¹´ 4 æœˆä»½æ‰å‘å¸ƒï¼Œæ€•ç©å®¶ç­‰ä¸åŠï¼Œå°±ç»™äº†ç©å®¶ä¸€ä¸ªæœåŠ¡å™¨æ¥ç©ç©ã€‚è™½ç„¶å®˜æ–¹æŠŠå¤§é—¨çš„é’¥åŒ™éƒ½ç»™ä½ äº†ï¼Œä½†è¿˜æ˜¯æœ‰å½“é»‘å®¢çš„æ„Ÿè§‰å•Šï¼Œä»¿ä½›æå‰è¿›å…¥äº†èµ›åšæœ‹å…‹ä¸–ç•Œã€‚å¯¹äºè¿™ç§å…¬å¸ï¼Œæˆ‘åªæƒ³è¯´ï¼šæˆ‘ä¹°çˆ†ï¼

{% include extensions/lazyload.html img='/img/in-post/post-hack-cyberpunk/10.jpg' %}
